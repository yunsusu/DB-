# **2. 컬럼에 DEFAULT CURRENT_TIMESTAMP / ON UPDATE CURRENT_TIMESTAMP 속성 설정하기**

**DATETIME 타입** 또는 **TIMESTAMP 타입**의 컬럼에는

**DEFAULT CURRENT_TIMESTAMP** 라는 속성과,

**ON UPDATE CURRENT_TIMESTAMP** 라는 속성을 줄 수 있다.

DEFAULT CURRENT_TIMESTAMP 속성은 테이블에 새 row를 추가할 때 **따로 그 컬럼에 값을 주지 않아도 현재 시간이 설정**되도록 하는 속성이다.

그리고 ON UPDATE CURRENT_TIMESTAMP 속성은 기존 row에서 **단 하나의 컬럼이라도 갱신되면 갱신될 때의 시간이 설정**되도록 하는 속성이다.

정확히 어떤 속성들인지 보면

일단 post 테이블의 upload_time 컬럼과 recent_modified_time 컬럼에 위에서 말한 두 속성을 추가해보겠습니다.

<img width="1600" height="123" alt="f" src="https://github.com/user-attachments/assets/9ec91908-f7a7-4001-a2e0-62aa3dd27180" />


이 SQL 문을 보면

**upload time 컬럼에는 DEFAULT CURRENT_TIMESTAMP 속성만 줬고,**

**recent_modified_time 컬럼에는 DEFAULT CURRENT_TIMESTAMP 속성과 ON UPDATE CURRENT_TIMESTAMP 속성을 둘다 줬다.**

이제 테이블에 새로운 row를 추가해보면

<img width="1712" height="474" alt="image (2)" src="https://github.com/user-attachments/assets/9bd2f77c-e970-40b0-85ec-3db9849551a5" />

**그런데 지금 title, content 컬럼에만 값을 주고, upload_time, recent_modified_time 컬럼에는 값을 주지 않았습니다.**

다시 post 테이블을 보면

<img width="1468" height="176" alt="image (3)" src="https://github.com/user-attachments/assets/71394959-c5a9-4d90-8fea-a95480c85558" />

새로운 row가 잘 추가된 것을 볼 수 있다.

**그리고 upload_time, recent_modified_time 컬럼에는 별도로 값을 주지 않았는데도 현재 시간이 값으로 잘 들어갔다.**

**두 컬럼에 DEFAULT CURRENT_TIMESTAMP 속성을 줬기 때문이다.**

그리고 이 row의 content 컬럼값을 갱신하면

<img width="1712" height="478" alt="image (4)" src="https://github.com/user-attachments/assets/460011bd-161e-45d2-8f66-8a69dbda6b01" />

그런데 지금 최근 갱신 시각을 나타내는 recent_modified_time 컬럼에는 따로 값을 지정하지 않았다. 결과를 보면

[](https://bakey-api.codeit.kr/files/3282/odHU1k?name=j.png)

2번 row의 content 컬럼의 값이 잘 갱신되었고, recent_modified_time 컬럼도 잘 갱신되었다. **recent_modified_time 컬럼에 값을 주지 않았는데도 이렇게 최근 갱신 시각이 잘 들어가게 된 것은, 아까 recent_modified_time 컬럼에 ON UPDATE CURRENT_TIMESTAMP라는 속성을 주었기 때문이다.**
